<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AMPS C/C++ Client Class Reference: AMPS::ExponentialDelayStrategy Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AMPS C/C++ Client Class Reference
   </div>
   <div id="projectbrief">AMPS C/C++ Client Version 5.3.4.1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classAMPS_1_1ExponentialDelayStrategy.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAMPS_1_1ExponentialDelayStrategy-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AMPS::ExponentialDelayStrategy Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classAMPS_1_1ExponentialDelayStrategy.html" title="ExponentialDelayStrategy is an implementation that exponentially &quot;backs off&quot; when reconnecting to the...">ExponentialDelayStrategy</a> is an implementation that exponentially "backs off" when reconnecting to the same server, with a maximum number of retries before it gives up entirely.  
 <a href="classAMPS_1_1ExponentialDelayStrategy.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ReconnectDelayStrategyImpl_8hpp_source.html">ReconnectDelayStrategyImpl.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for AMPS::ExponentialDelayStrategy:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classAMPS_1_1ExponentialDelayStrategy.png" usemap="#AMPS::ExponentialDelayStrategy_map" alt=""/>
  <map id="AMPS::ExponentialDelayStrategy_map" name="AMPS::ExponentialDelayStrategy_map">
<area href="classAMPS_1_1ReconnectDelayStrategyImpl.html" title="Base class for ReconnectDelayStrategy implementations. " alt="AMPS::ReconnectDelayStrategyImpl" shape="rect" coords="0,0,216,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52c5a03916c2aef7719ee4343368e885"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAMPS_1_1ExponentialDelayStrategy.html#a52c5a03916c2aef7719ee4343368e885">ExponentialDelayStrategy</a> (unsigned int initialDelay_=200, unsigned int maximumDelay_=20 *1000, double backoffExponent_=2.0, unsigned int maximumRetryTime_=0, double jitter_=1.0)</td></tr>
<tr class="memdesc:a52c5a03916c2aef7719ee4343368e885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an exponential delay strategy, the default strategy for <a class="el" href="classAMPS_1_1HAClient.html" title="A highly-available Client that automatically reconnects and re-subscribes to AMPS instances upon disc...">HAClient</a>.  <a href="#a52c5a03916c2aef7719ee4343368e885">More...</a><br /></td></tr>
<tr class="separator:a52c5a03916c2aef7719ee4343368e885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67e673cf5edee34ce2baa2891ee9260"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAMPS_1_1ExponentialDelayStrategy.html#aa67e673cf5edee34ce2baa2891ee9260">getConnectWaitDuration</a> (const std::string &amp;uri_)</td></tr>
<tr class="memdesc:aa67e673cf5edee34ce2baa2891ee9260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time that the client should delay before connecting to the given server URI.  <a href="#aa67e673cf5edee34ce2baa2891ee9260">More...</a><br /></td></tr>
<tr class="separator:aa67e673cf5edee34ce2baa2891ee9260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e2b6d3065b51cac31e8b5a52aefba2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAMPS_1_1ExponentialDelayStrategy.html#a16e2b6d3065b51cac31e8b5a52aefba2">reset</a> (void)</td></tr>
<tr class="memdesc:a16e2b6d3065b51cac31e8b5a52aefba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the state of this reconnect delay.  <a href="#a16e2b6d3065b51cac31e8b5a52aefba2">More...</a><br /></td></tr>
<tr class="separator:a16e2b6d3065b51cac31e8b5a52aefba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classAMPS_1_1ExponentialDelayStrategy.html" title="ExponentialDelayStrategy is an implementation that exponentially &quot;backs off&quot; when reconnecting to the...">ExponentialDelayStrategy</a> is an implementation that exponentially "backs off" when reconnecting to the same server, with a maximum number of retries before it gives up entirely. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a52c5a03916c2aef7719ee4343368e885"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AMPS::ExponentialDelayStrategy::ExponentialDelayStrategy </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>initialDelay_</em> = <code>200</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>maximumDelay_</em> = <code>20&#160;*&#160;1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>backoffExponent_</em> = <code>2.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>maximumRetryTime_</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>jitter_</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an exponential delay strategy, the default strategy for <a class="el" href="classAMPS_1_1HAClient.html" title="A highly-available Client that automatically reconnects and re-subscribes to AMPS instances upon disc...">HAClient</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initialDelay_</td><td>The time (in milliseconds) to wait before reconnecting to a server for the first time after a failed connection attempt.</td></tr>
    <tr><td class="paramname">maximumDelay_</td><td>The maximum time to wait for any reconnect attempt (milliseconds). Exponential backoff will not exceed this maximum.</td></tr>
    <tr><td class="paramname">backoffExponent_</td><td>The exponent to use for calculating the next delay time. For example, if the initial time is 200ms and the exponent is 2.0, the next delay will be 400ms, then 800ms, etc.</td></tr>
    <tr><td class="paramname">maximumRetryTime_</td><td>The maximum time (milliseconds) to allow reconnect attempts to continue without a successful connection, before "giving
                         up" and abandoning the connection attempt.</td></tr>
    <tr><td class="paramname">jitter_</td><td>The amount of 'jitter' to apply when calculating a delay time, measured in multiples of the initial delay. Jitter is used to reduce the number of simultaneous reconnects that may be issued from multiple clients. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa67e673cf5edee34ce2baa2891ee9260"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int AMPS::ExponentialDelayStrategy::getConnectWaitDuration </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uri_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the time that the client should delay before connecting to the given server URI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri_</td><td>The URI which the client plans to connect.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The time, in milliseconds, which the client should delay before connecting to uri_.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Any</td><td>exception thrown indicates no connection should be attempted; the client should in essence "give up." </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classAMPS_1_1ReconnectDelayStrategyImpl.html#ae4d314f0cbbeed59e0439a171a2748a9">AMPS::ReconnectDelayStrategyImpl</a>.</p>

</div>
</div>
<a class="anchor" id="a16e2b6d3065b51cac31e8b5a52aefba2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AMPS::ExponentialDelayStrategy::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the state of this reconnect delay. </p>
<p>AMPS calls this method when a connection is successfully established. </p>

<p>Implements <a class="el" href="classAMPS_1_1ReconnectDelayStrategyImpl.html#a119bc53328d5b4282851cdcd462ec638">AMPS::ReconnectDelayStrategyImpl</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/amps/<a class="el" href="ReconnectDelayStrategyImpl_8hpp_source.html">ReconnectDelayStrategyImpl.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>AMPS</b></li><li class="navelem"><a class="el" href="classAMPS_1_1ExponentialDelayStrategy.html">ExponentialDelayStrategy</a></li>
    <li class="footer">Generated on Mon Oct 9 2023 18:11:31 for AMPS C/C++ Client Class Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
